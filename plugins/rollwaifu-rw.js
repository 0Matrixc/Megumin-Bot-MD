/*
• @David-Chian
- https://github.com/David-Chian
*/

function _0x2073(){const _0x518b97=['split','152257mnykSd','getTime','Ocurrió\x20un\x20error\x20al\x20procesar\x20tu\x20solicitud.\x20Intenta\x20de\x20nuevo\x20más\x20tarde.\x20','Error\x20al\x20leer\x20characters.json:','\x20𝙒𝙁𝙘𝙤𝙞𝙣𝙨!\x0a┃\x20⌜✷⌟\x20╌\x20𝞝𝙨𝙩𝙖𝙙𝙤\x20╌\x0a┃⋗\x20','240qHdPiv','some','chat','./package.json','Este\x20comando\x20solo\x20está\x20disponible\x20para\x20Megumin\x20Bot.\x0a\x20🔥\x20https://github.com/David-Chian/Megumin-Bot-MD','length','sender','¡Espera\x20un\x20poco\x20más\x20para\x20poder\x20usar\x20este\x20comando!\x0a\x0a*Tiempo\x20restante:\x20','¡Nuevo\x20personaje!','register','reply','Estado:\x20Ocupado\x20por\x20@','Error\x20al\x20leer\x20package.json:','includes','56deNXOc','config','\x20Minutos\x20y\x20','1856481LMubtr','Estado:\x20Libre','fun','./src/completado.jpg','random','name','usuarios','existsSync','roll','env','8jcdCsA','group','5013TGQqxV','data.json','508256dXtzit','repository','49rof384foerAlkkO4KF4Tdfoflw','values','Error\x20al\x20leer\x20data.json:','error','💥\x20¡El\x20bot\x20más\x20explosivo!','\x20Segundos.*','parse','find','Felicidades,\x20todos\x20los\x20personajes\x20han\x20sido\x20obtenidos.\x20¡Pronto\x20habrá\x20más\x20waifus\x20para\x20recolectar!','value','help','personajesReservados','characters','image/jpeg','writeFileSync','27865VLvClz','utf-8','readFileSync','36319rzSGKD','tags','sendMessage','Megumin-Bot-MD','SECRET_KEY','floor','PHOTO','entries','stringify','290lSuwto','url','45744cQdTGC'];_0x2073=function(){return _0x518b97;};return _0x2073();}const _0x1c8d69=_0x614d;(function(_0x3e5fc2,_0x39ed81){const _0x3059bb=_0x614d,_0x2b48ab=_0x3e5fc2();while(!![]){try{const _0x31fd72=-parseInt(_0x3059bb(0x154))/0x1+parseInt(_0x3059bb(0x13c))/0x2*(parseInt(_0x3059bb(0x15f))/0x3)+-parseInt(_0x3059bb(0x140))/0x4+-parseInt(_0x3059bb(0x151))/0x5*(-parseInt(_0x3059bb(0x166))/0x6)+-parseInt(_0x3059bb(0x161))/0x7*(parseInt(_0x3059bb(0x12f))/0x8)+-parseInt(_0x3059bb(0x13e))/0x9*(parseInt(_0x3059bb(0x15d))/0xa)+parseInt(_0x3059bb(0x132))/0xb;if(_0x31fd72===_0x39ed81)break;else _0x2b48ab['push'](_0x2b48ab['shift']());}catch(_0x21acb3){_0x2b48ab['push'](_0x2b48ab['shift']());}}}(_0x2073,0x1d83a));import _0x3ebd97 from'fs';import{v4 as _0x457a1f}from'uuid';function _0x614d(_0x73018d,_0x31473d){const _0x207344=_0x2073();return _0x614d=function(_0x614da5,_0x31db49){_0x614da5=_0x614da5-0x128;let _0xdb6aff=_0x207344[_0x614da5];return _0xdb6aff;},_0x614d(_0x73018d,_0x31473d);}import _0x5362fc from'dotenv';_0x5362fc[_0x1c8d69(0x130)]();const SECRET_KEY=process[_0x1c8d69(0x13b)][_0x1c8d69(0x158)],completadoImage=_0x1c8d69(0x135),obtenerDatos=()=>{const _0x170b4a=_0x1c8d69;try{return _0x3ebd97[_0x170b4a(0x139)](_0x170b4a(0x13f))?JSON[_0x170b4a(0x148)](_0x3ebd97[_0x170b4a(0x153)](_0x170b4a(0x13f),_0x170b4a(0x152))):{'usuarios':{},'personajesReservados':[]};}catch(_0x2ee9f9){return console[_0x170b4a(0x145)](_0x170b4a(0x144),_0x2ee9f9),{'usuarios':{},'personajesReservados':[]};}},guardarDatos=_0x345fb4=>{const _0x45e94a=_0x1c8d69;try{_0x3ebd97[_0x45e94a(0x150)](_0x45e94a(0x13f),JSON[_0x45e94a(0x15c)](_0x345fb4,null,0x2));}catch(_0x14a0ba){console[_0x45e94a(0x145)]('Error\x20al\x20escribir\x20en\x20data.json:',_0x14a0ba);}},reservarPersonaje=(_0x4916c1,_0x5a04d3)=>{const _0x5565e7=_0x1c8d69;let _0x9c8365=obtenerDatos();_0x9c8365[_0x5565e7(0x14d)]['push']({'userId':_0x4916c1,..._0x5a04d3}),guardarDatos(_0x9c8365);},obtenerPersonajes=()=>{const _0x10f79a=_0x1c8d69;try{return JSON[_0x10f79a(0x148)](_0x3ebd97[_0x10f79a(0x153)]('./src/JSON/characters.json','utf-8'));}catch(_0x23ffcb){return console[_0x10f79a(0x145)](_0x10f79a(0x164),_0x23ffcb),[];}};let cooldowns={},handler=async(_0x4ca2f1,{conn:_0x513c93})=>{const _0x1d88c1=_0x1c8d69;try{let _0x51ee75=_0x4ca2f1[_0x1d88c1(0x16c)],_0x24df06=new Date()[_0x1d88c1(0x162)](),_0x555e17=0xa*0x3c*0x3e8,_0x3be8a9=cooldowns[_0x51ee75]||0x0,_0x1d4af0=_0x24df06-_0x3be8a9;if(_0x1d4af0<_0x555e17){let _0x2420ab=_0x555e17-_0x1d4af0,_0x133e71=Math[_0x1d88c1(0x159)](_0x2420ab/(0x3e8*0x3c)),_0x4fac32=Math['floor'](_0x2420ab%(0x3e8*0x3c)/0x3e8),_0x5385b7=_0x1d88c1(0x128)+_0x133e71+_0x1d88c1(0x131)+_0x4fac32+_0x1d88c1(0x147);await _0x513c93[_0x1d88c1(0x156)](_0x4ca2f1[_0x1d88c1(0x168)],{'text':_0x5385b7});return;}const _0x160e13=()=>{const _0x203cb3=_0x1d88c1;try{const _0x1174c0=JSON[_0x203cb3(0x148)](_0x3ebd97['readFileSync'](_0x203cb3(0x169),_0x203cb3(0x152)));if(_0x1174c0[_0x203cb3(0x137)]!==_0x203cb3(0x157))return![];if(_0x1174c0[_0x203cb3(0x141)][_0x203cb3(0x15e)]!=='git+https://github.com/David-Chian/Megumin-Bot-MD.git')return![];if(SECRET_KEY!==_0x203cb3(0x142))return![];return!![];}catch(_0x1e2274){return console[_0x203cb3(0x145)](_0x203cb3(0x12d),_0x1e2274),![];}};if(!_0x160e13()){await _0x513c93[_0x1d88c1(0x12b)](_0x4ca2f1[_0x1d88c1(0x168)],_0x1d88c1(0x16a),_0x4ca2f1);return;}let _0x389da4=obtenerDatos(),_0x51cb60=obtenerPersonajes(),_0x4fa8c1=_0x51cb60['filter'](_0x508cf6=>{const _0x28898a=_0x1d88c1;let _0x33a01=Object[_0x28898a(0x143)](_0x389da4['usuarios'])[_0x28898a(0x167)](_0x2c0bb2=>_0x2c0bb2[_0x28898a(0x14e)][_0x28898a(0x12e)](_0x508cf6['url']));return!_0x33a01;});if(_0x4fa8c1[_0x1d88c1(0x16b)]===0x0){await _0x513c93[_0x1d88c1(0x156)](_0x4ca2f1[_0x1d88c1(0x168)],{'image':{'url':completadoImage},'caption':_0x1d88c1(0x14a)});return;}const _0x2bc2e8=_0x4fa8c1[Math[_0x1d88c1(0x159)](Math[_0x1d88c1(0x136)]()*_0x4fa8c1[_0x1d88c1(0x16b)])],_0x1f3002=_0x457a1f();let _0x1425d9=_0x389da4[_0x1d88c1(0x14d)]['find'](_0x4a52a6=>_0x4a52a6['url']===_0x2bc2e8[_0x1d88c1(0x15e)]),_0x5c7433=Object[_0x1d88c1(0x15b)](_0x389da4[_0x1d88c1(0x138)])[_0x1d88c1(0x149)](([_0x54ff98,_0x47185f])=>_0x47185f[_0x1d88c1(0x14e)][_0x1d88c1(0x12e)](_0x2bc2e8[_0x1d88c1(0x15e)])),_0x377200=_0x5c7433?_0x1d88c1(0x12c)+_0x5c7433[0x0][_0x1d88c1(0x160)]('@')[0x0]:_0x1d88c1(0x133);const _0x226ce6='>\x20꯭\x20⌜꯭✮꯭⌟\x20\x20꯭╍꯭𝙍꯭𝙤𝙡꯭𝙡𝙒꯭𝙖𝙞𝙛꯭𝙪꯭╍꯭\x20\x20\x20꯭\x20\x20\x20\x20꯭\x20\x20\x20\x20\x0a\x0a╭┈︨︩︣︢─┉̱╍̄╼⪻⪼╾̄╍̱┅─︩︪︢︣┈╮\x0a┃\x20⌍⛧⌎\x20\x20╌\x20𝙉𝙤𝙢𝙗𝙧𝙚\x20╌\x0a┃⋗\x20*'+_0x2bc2e8[_0x1d88c1(0x137)]+'!*\x0a┃\x20⌜✧⌟\x20\x20╌\x20𝙑𝙖𝙡𝙤𝙧\x20╌\x0a┃⋗\x20'+_0x2bc2e8[_0x1d88c1(0x14b)]+_0x1d88c1(0x165)+_0x377200+'\x0a╰┈︨︩︣︢─┉̱╍̄╼⪻〄⪼╾̄╍̱┅─︩︪︢︣┈╯\x0a\x0a>\x20⌜★⌟\x20\x20\x20\x20\x20𝙄𝙙𝙚𝙣𝙩𝙞𝙛𝙞𝙘𝙖𝙙𝙤𝙧\x0a<id:'+_0x1f3002+'>';await _0x513c93[_0x1d88c1(0x156)](_0x4ca2f1[_0x1d88c1(0x168)],{'image':{'url':_0x2bc2e8[_0x1d88c1(0x15e)]},'caption':_0x226ce6,'mimetype':_0x1d88c1(0x14f),'contextInfo':{'mentionedJid':_0x5c7433?[_0x5c7433[0x0]]:[],'externalAdReply':{'showAdAttribution':!![],'title':_0x1d88c1(0x129),'body':_0x1d88c1(0x146),'thumbnailUrl':_0x2bc2e8[_0x1d88c1(0x15e)],'sourceUrl':redes,'previewType':_0x1d88c1(0x15a),'mediaType':0x1,'renderLargerThumbnail':![]}}}),!_0x5c7433&&reservarPersonaje(_0x51ee75,{..._0x2bc2e8,'id':_0x1f3002}),cooldowns[_0x51ee75]=_0x24df06,console['log']('Cooldown\x20actualizado\x20para\x20'+_0x51ee75+':\x20'+cooldowns[_0x51ee75]);}catch(_0x5996a7){console[_0x1d88c1(0x145)]('Error\x20en\x20el\x20handler:',_0x5996a7),await _0x513c93[_0x1d88c1(0x156)](_0x4ca2f1[_0x1d88c1(0x168)],{'text':_0x1d88c1(0x163)+_0x5996a7});}};handler[_0x1c8d69(0x14c)]=[_0x1c8d69(0x13a)],handler[_0x1c8d69(0x155)]=[_0x1c8d69(0x134)],handler['command']=[_0x1c8d69(0x13a),'rw'],handler[_0x1c8d69(0x12a)]=!![],handler[_0x1c8d69(0x13d)]=!![];export default handler;